<ion-navbar *navbar>
  <button menuToggle>
    <icon menu></icon>
  </button>
  <ion-title>{{client.translate('QUIZ')}}</ion-title>
</ion-navbar>

<ion-content class="center">

  <canvas id="quizCanvas" height="{{client.settings.quiz.canvas.height}}" class="quiz-canvas"
          (click)="canvasClick($event)" style="height: {{client.settings.quiz.canvas.height}}px">
  </canvas>

  <div *ngIf="quizData" dir="{{quizData.currentQuestion.direction}}"
       [transitioned]
       ng-class="{'long-animated' : quizData.currentQuestion.doAnimation,
                        'fix-animation-bug' : quizData.currentQuestion.doAnimation,
                        'bounceInLeft' : quizData.currentQuestion.doAnimation && client.currentLanguage.direction==='ltr',
                        'bounceInRight' : quizData.currentQuestion.doAnimation && client.currentLanguage.direction==='rtl'}"
       (transitionEnd)="questionTransitionEnd($event)">

    <div class="question-text"
         ng-class="{'pointer' : client.session.isAdmin}"
         (click)="client.session.isAdmin && openQuestionModal()"
         [innerHtml]="quizData.currentQuestion.text">
    </div>

    <div class="list padding">
      <button [animated]
              *ngFor="#answer of quizData.currentQuestion.answers, #i=index"
              id="buttonAnswer{{i}}"
              name="buttonAnswer{{i}}"
              [disabled]="quizData.currentQuestion.answered && answer.correct==null && answer.answeredCorrectly==null"
              class="button button-full item-text-wrap quiz-answer pointer"
              [ngClass]="{'button-light' : quizData.currentQuestion.answered && answer.answeredCorrectly == null && answer.correct == null,
                            'blink' : answer.answeredCorrectly == true || answer.correct == true || (answer.answeredCorrectly == false && answer.correct == null),
                            'button-favorite' : answer.answeredCorrectly == true || answer.correct == true,
                            'button-danger' : answer.answeredCorrectly == false && answer.correct == null}"
              (click)="!quizData.currentQuestion.answered && submitAnswer(i)"
              (animationEnd)="buttonAnimationEnded($event)"
              [innerHtml]="answer.text">
      </button>

    </div>
  </div>

</ion-content>
