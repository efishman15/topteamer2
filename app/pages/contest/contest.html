<ion-navbar app-top-bar *navbar>
  <button menuToggle>
    <ion-icon name="menu"></ion-icon>
  </button>
  <ion-title *ngIf="contest">
      {{contest.name}}
  </ion-title>
</ion-navbar>

<ion-content class="app-bg" *ngIf="contest">

    <div padding-top>

      <contest-chart-detailed id="contest-{{contest._id}}"
                     [(contest)]="contest">
                     (contestSelected)="onContestSelected($event)"
                     (teamSelected)="onTeamSelected($event)">
      </contest-chart-detailed>

      <div padding>
        <div class="pointer contest-footer-text float-{{client.currentLanguage.align}}"
             (click)="showParticipants('leader')">
          {{client.translate('CONTEST_LEADER')}}: {{contest.leader.name}}
        </div>
        <div class="pointer contest-footer-text float-{{client.currentLanguage.oppositeAlign}}"
             (click)="showParticipants('topLeaders')">{{client.translate('CONTEST_LEADERS_MORE')}}
        </div>
      </div>

    </div>

    <div *ngIf="animateLastResults"
         padding-left padding-right text-center class="long-animated {{lastQuizResults.data.animation}}">
      <h2>{{client.translate(lastQuizResults.data.clientKey + '_TITLE')}}</h2>
      <h3>{{client.translate(lastQuizResults.data.clientKey + '_MESSAGE', lastQuizResults.data.clientValues) }}</h3>
    </div>
    <button fab fab-bottom fab-left (click)="share('fab')">
      <ion-icon name="share"></ion-icon>
    </button>
    <ion-buttons>
      <div text-center padding-top>
        <button secondary class="bar-button" (click)="share('button')">{{client.translate('SHARE')}}</button>
        <button secondary class="bar-button" (click)="like()">{{client.translate('LIKE')}}</button>
        <button *ngIf="contest && contest.state==='play'" secondary class="bar-button"
                (click)="switchTeams('button')">
          {{client.translate('SWITCH_TEAMS')}}
        </button>
        <button *ngIf="contest && contest.owner" secondary class="bar-button" (click)="editContest()">
          {{client.translate('EDIT_CONTEST')}}
        </button>

      </div>
    </ion-buttons>

</ion-content>
